# Count Pixel Color
Là công cụ đo diện tích của sản phẩm dựa trên tổng số pixel đếm được. Công cụ hỗ trợ ảnh màu 3 channel, giá trị pixel trong dải [0, 255]. Công cụ sẽ đếm những pixel nằm trong ngưỡng cài đặt màu sắc.

**Ứng dụng phổ biến:**
- :white_check_mark: Ứng dụng cho bài toán kiểm tra thừa/thiếu diện tích như thừa thiếu keo.
- :white_check_mark: Ứng dụng cho bài toán cần kiểm tra có sực khác biệt màu sắc giữa các vật thể. Dựa trên tổng số lượng để phán định.

[Tham khảo công cụ đếm pixel - Count Pixel Intensity](/docs/modules/Count_Pixel_Intensity)

## Video hướng dẫn
<VideoPlayer url='/videos/count_pixel_color/count_pixel_color.mp4' youtubeUrl='https://www.youtube.com/watch?v=xO_9SWucmZE' />

Các công cụ hỗ trợ được sử dụng trong video:
-   [Nguồn ảnh - Imagesource](/docs/modules/Imagesource)

:::tip
Điều chỉnh tham số từ từ theo 2 chiều của từng kênh màu đến khi màu đánh dấu (màu đỏ) trên hình ảnh bao phủ hết toàn bộ vật thể.
:::

## Biểu đồ histogram

Biểu đồ histogram của hình ảnh theo 3 kênh màu Red/Green/Blue giúp hiểu rõ hơn về phân bổ màu sắc của hình ảnh. Biểu đồ biểu diễn tổng số lượng những pixel (điểm ảnh) có độ sáng (giá trị màu) giống nhau theo từng **kênh màu**.
-   Trục **x**: Giá trị cường độ pixel (0 - 255 với ảnh 8-bit).
-   Trục **y**: Số lượng pixel có giá trị tương ứng.

Màu sắc đỏ/xanh lá/xanh lam trong biểu đồ histogram tương ứng với kênh màu Red/Green/Blue.

[Tìm hiểu thêm về Histogram](/docs/modules/Measure_Brightness#biểu-đồ-histogram)

<Image src="/images/measure_color/1.PNG" />

## Lựa chọn kiểu hình ảnh
Có thể chuyển ảnh sang hệ không gian màu khác như: HSV, HLS để thuận tiện hơn cho việc cài đặt giới hạn đo màu sắc. Không gian màu BGR phù 
hợp cho mắt người nhìn nhưng không thuận tiên cho việc cài đặt dải số học, hai kênh màu HSV và HLS phù hợp cài đặt theo dải đo hơn.
<Image width='480' src="/images/measure_color/2.PNG" />

:::tip
Thường chọn không gian màu HLS là tốt nhất.
:::

## Kết quả đo
Công cụ đo trả về các thông số:
-   **Phần trăm Pixel**: phần trăm pixel đếm được trên tổng diện tích vùng ROI.
-   **Số lượng Pixel**: số lượng pixel đếm được.

## Cài đặt giới thạn
Các giới hạn cài đặt dựa trên thông số đo:
-   **Phần trăm Pixel**: cài đặt giới hạn cho giá trị **Phần trăm Pixel**.
-   **Số lượng Pixel**: cài đặt giới hạn cho giá trị **Số lượng Pixel**.