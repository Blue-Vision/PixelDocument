# TCP/IP

Hỗ trợ giao thức TCP/IP cho phép các thiết bị kết nối truyền gửi dữ liệu từ xa. Các thiết bị có thể là máy tính, camera, PLC, robot...

**Ứng dụng phổ biến:**
- :white_check_mark: Truyền nhận dữ liệu giữa các thiết bị.

## Video hướng dẫn
### Hướng dẫn sử dụng TCP/IP Server
Phần mềm Pixel sẽ được thiết lập là server, các thiết bị khác sẽ là client. Các thiết bị client sẽ gửi yêu cầu tới server và nhận dữ liệu từ server. Server hỗ trợ nhiều client kết nối cùng lúc.

<VideoPlayer url='/videos/tcp_ip/tcp_ip_server.mp4' />

### Cài đặt TCP/IP Server
Giao diện cài đặt mở cổng TCP/IP server như hình bên dưới:
<Image src="/images/tcp_ip/1.PNG" width='600' />

-   **Cổng**: mỏ cổng mà server sẽ lắng nghe các yêu cầu từ client. Mặc định là 5000.
-   **Timeout đọc**: thời gian tối đa mà server sẽ chờ để nhận dữ liệu từ client. Mặc định là -1 nghĩa là chờ tới khi có dữ liệu.
-   **Timeout ghi**: thời gian tối đa mà server sẽ gửi dữ liệu tới client. Mặc định là -1 nghĩa là chờ tới khi gửi thành công.
-   **Chỉ cho phép client cụ bộ kết nối**: nếu chọn, server sẽ chỉ cho phép các client cùng trên máy tính với phần mềm mới có thể kết nối, nếu không chọn, server sẽ cho phép tất cả các client từ bên ngoài có thể kết nối tới.

### Thử nghiệm đọc/ghi
Người dùng có thể thử nghiệm đọc/ghi dữ liệu từ server bằng cách sử dụng các nút bấm trong phần này. Các nút bấm sẽ gửi yêu dữ liệu tới client và đọc dữ liệu nhận được từ phía client.

:::note
Hỗ trợ người dùng xử lý dữ liệu đặc biệt dạng hex. Cách viết như sau: `{XX}`, trong đó XX là giá trị hex từ 00 tới FF. 
Server sẽ tự động chuyển đổi sang dạng char theo bảng ASCII. Ví dụ: khi viết "\{41\}" sẽ được chuyển thành "A", "\{42\}" sẽ được chuyển thành B...

Ví dụ: khi viết "Hello\{0A\}" sẽ được chuyển thành "Hello\n". "\n" được hiểu là ký tự xuống dòng trong bảng ASCII.
:::

### Hướng dẫn sử dụng TCP/IP Client
Phần mềm Pixel sẽ được thiết lập là client, thiết bị khác sẽ là server. Phần mềm Pixel sẽ gửi yêu cầu tới server và nhận dữ liệu từ server.
<VideoPlayer url='/videos/tcp_ip/tcp_ip_client.mp4' />

### Cài đặt TCP/IP Server
Giao diện cài đặt mở kết nối TCP/IP client như hình bên dưới:
<Image src="/images/tcp_ip/2.PNG" width='600' />

-   **Địa chỉ**: địa chỉ IP của server.
-   **Cổng**: Cổng kết nối tới server. Mặc định là 5000.
-   **Timeout đọc**: thời gian tối đa mà client sẽ chờ để nhận dữ liệu từ server. Mặc định là -1 nghĩa là chờ tới khi có dữ liệu.
-   **Timeout ghi**: thời gian tối đa mà client sẽ gửi dữ liệu tới server. Mặc định là -1 nghĩa là chờ tới khi gửi thành công.

### Thử nghiệm đọc/ghi
Người dùng có thể thử nghiệm đọc/ghi dữ liệu từ client bằng cách sử dụng các nút bấm trong phần này. Các nút bấm sẽ gửi yêu dữ liệu tới server và đọc dữ liệu nhận được từ server.

:::note
Trước khi giao tiếp giữa server và client, người dùng cần phải khởi động server trước. Nếu không sẽ không thể gửi yêu cầu từ client tới server.

**Chú ý khi giao tiếp giữa server và client:**
-   Server và client phải cùng dải mạng với nhau. Nếu không sẽ không thể kết nối được.
-   Cổng kết nối giữa server và client phải giống nhau. Nếu không sẽ không thể kết nối được.

Nên thử ping kết nối giữa 2 phía server và client để đảm bảo mạng kết nối 2 bên đã được thông, trong trường hợp không ping được, người dùng cần kiểm tra lại IP và cổng kết nối hoặc xem tường lửa của máy tính có chặn kết nối hay không.
:::